"use strict";var fs=require("fs"),util$1=require("util"),child_process=require("child_process"),os=require("os"),tty=require("tty"),path=require("path");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var fs__default=_interopDefaultLegacy(fs),util__default=_interopDefaultLegacy(util$1),child_process__default=_interopDefaultLegacy(child_process),os__default=_interopDefaultLegacy(os),tty__default=_interopDefaultLegacy(tty),path__default=_interopDefaultLegacy(path);const{exec,execSync}=child_process__default.default,commandline={run:runCommand,runSync:runSync};function runCommand(e,r){return exec(e,function(e,t,n){r&&r(e,t,n)})}function runSync(e){try{return{data:execSync(e).toString(),err:null,stderr:null}}catch(e){return{data:null,err:e.stderr.toString(),stderr:e.stderr.toString()}}}var cmd$1=commandline;function isNothing(e){return null==e}function isObject(e){return"object"==typeof e&&null!==e}function toArray(e){return Array.isArray(e)?e:isNothing(e)?[]:[e]}function extend(e,t){var n,r,o,i;if(t)for(n=0,r=(i=Object.keys(t)).length;n<r;n+=1)e[o=i[n]]=t[o];return e}function repeat(e,t){for(var n="",r=0;r<t;r+=1)n+=e;return n}function isNegativeZero(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e}var isNothing_1=isNothing,isObject_1=isObject,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common={isNothing:isNothing,isObject:isObject,toArray:toArray,repeat:repeat,isNegativeZero:isNegativeZero,extend:extend};function formatError(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),r+" "+n):r}function YAMLException$1(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}YAMLException$1.prototype=Object.create(Error.prototype),(YAMLException$1.prototype.constructor=YAMLException$1).prototype.toString=function(e){return this.name+": "+formatError(this,e)};var exception=YAMLException$1;function getLine(e,t,n,r,o){var i="",a="",o=Math.floor(o/2)-1;return o<r-t&&(t=r-o+(i=" ... ").length),o<n-r&&(n=r+o-(a=" ...").length),{str:i+e.slice(t,n).replace(/\t/g,"→")+a,pos:r-t+i.length}}function padStart(e,t){return common.repeat(" ",t-e.length)+e}function makeSnippet(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var n,r=/\r?\n|\r|\0/g,o=[0],i=[],a=-1;n=r.exec(e.buffer);)i.push(n.index),o.push(n.index+n[0].length),e.position<=n.index&&a<0&&(a=o.length-2);a<0&&(a=o.length-1);for(var l,s="",c=Math.min(e.line+t.linesAfter,i.length).toString().length,u=t.maxLength-(t.indent+c+3),p=1;p<=t.linesBefore&&!(a-p<0);p++)l=getLine(e.buffer,o[a-p],i[a-p],e.position-(o[a]-o[a-p]),u),s=common.repeat(" ",t.indent)+padStart((e.line-p+1).toString(),c)+" | "+l.str+"\n"+s;for(l=getLine(e.buffer,o[a],i[a],e.position,u),s=(s+=common.repeat(" ",t.indent)+padStart((e.line+1).toString(),c)+" | "+l.str+"\n")+(common.repeat("-",t.indent+c+3+l.pos)+"^\n"),p=1;p<=t.linesAfter&&!(a+p>=i.length);p++)l=getLine(e.buffer,o[a+p],i[a+p],e.position-(o[a]-o[a+p]),u),s+=common.repeat(" ",t.indent)+padStart((e.line+p+1).toString(),c)+" | "+l.str+"\n";return s.replace(/\n$/,"")}var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(e){var n={};return null!==e&&Object.keys(e).forEach(function(t){e[t].forEach(function(e){n[String(e)]=t})}),n}function Type$1(t,e){if(e=e||{},Object.keys(e).forEach(function(e){if(-1===TYPE_CONSTRUCTOR_OPTIONS.indexOf(e))throw new exception('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(e){return e},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=compileStyleAliases(e.styleAliases||null),-1===YAML_NODE_KINDS.indexOf(this.kind))throw new exception('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var type=Type$1;function compileList(e,t){var o=[];return e[t].forEach(function(n){var r=o.length;o.forEach(function(e,t){e.tag===n.tag&&e.kind===n.kind&&e.multi===n.multi&&(r=t)}),o[r]=n}),o}function compileMap(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}function Schema$1(e){return this.extend(e)}Schema$1.prototype.extend=function(e){var t=[],n=[];if(e instanceof type)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}t.forEach(function(e){if(!(e instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(e){if(!(e instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});e=Object.create(Schema$1.prototype);return e.implicit=(this.implicit||[]).concat(t),e.explicit=(this.explicit||[]).concat(n),e.compiledImplicit=compileList(e,"implicit"),e.compiledExplicit=compileList(e,"explicit"),e.compiledTypeMap=compileMap(e.compiledImplicit,e.compiledExplicit),e};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)}function constructYamlNull(){return null}function isNull(e){return null===e}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)}function constructYamlBoolean(e){return"true"===e||"True"===e||"TRUE"===e}function isBoolean(e){return"[object Boolean]"===Object.prototype.toString.call(e)}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function isOctCode(e){return 48<=e&&e<=55}function isDecCode(e){return 48<=e&&e<=57}function resolveYamlInteger(e){if(null===e)return!1;var t,n=e.length,r=0,o=!1;if(!n)return!1;if("0"===(t="-"!==(t=e[r])&&"+"!==t?t:e[++r])){if(r+1===n)return!0;if("b"===(t=e[++r])){for(r++;r<n;r++)if("_"!==(t=e[r])){if("0"!==t&&"1"!==t)return!1;o=!0}return o&&"_"!==t}if("x"===t){for(r++;r<n;r++)if("_"!==(t=e[r])){if(!isHexCode(e.charCodeAt(r)))return!1;o=!0}return o&&"_"!==t}if("o"===t){for(r++;r<n;r++)if("_"!==(t=e[r])){if(!isOctCode(e.charCodeAt(r)))return!1;o=!0}return o&&"_"!==t}}if("_"===t)return!1;for(;r<n;r++)if("_"!==(t=e[r])){if(!isDecCode(e.charCodeAt(r)))return!1;o=!0}return!(!o||"_"===t)}function constructYamlInteger(e){var t,n=1;if("-"!==(t=(e=-1!==e.indexOf("_")?e.replace(/_/g,""):e)[0])&&"+"!==t||("-"===t&&(n=-1),t=(e=e.slice(1))[0]),"0"===e)return 0;if("0"===t){if("b"===e[1])return n*parseInt(e.slice(2),2);if("x"===e[1])return n*parseInt(e.slice(2),16);if("o"===e[1])return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function isInteger(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!common.isNegativeZero(e)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(e){return 0<=e?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return 0<=e?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return 0<=e?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(e){return null!==e&&!(!YAML_FLOAT_PATTERN.test(e)||"_"===e[e.length-1])}function constructYamlFloat(e){var e=e.replace(/_/g,"").toLowerCase(),t="-"===e[0]?-1:1;return".inf"===(e=0<="+-".indexOf(e[0])?e.slice(1):e)?1==t?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:t*parseFloat(e,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(e,t){if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(e))return"-0.0";return t=e.toString(10),SCIENTIFIC_WITHOUT_DOT.test(t)?t.replace("e",".e"):t}function isFloat(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||common.isNegativeZero(e))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(e){return null!==e&&(null!==YAML_DATE_REGEXP.exec(e)||null!==YAML_TIMESTAMP_REGEXP.exec(e))}function constructYamlTimestamp(e){var t,n,r,o,i,a=0,l=null,s=YAML_DATE_REGEXP.exec(e);if(null===(s=null===s?YAML_TIMESTAMP_REGEXP.exec(e):s))throw new Error("Date resolve error");if(e=+s[1],t=+s[2]-1,n=+s[3],!s[4])return new Date(Date.UTC(e,t,n));if(r=+s[4],o=+s[5],i=+s[6],s[7]){for(a=s[7].slice(0,3);a.length<3;)a+="0";a=+a}return s[9]&&(l=6e4*(60*+s[10]+ +(s[11]||0)),"-"===s[9]&&(l=-l)),s=new Date(Date.UTC(e,t,n,r,o,i,a)),l&&s.setTime(s.getTime()-l),s}function representYamlTimestamp(e){return e.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(e){return"<<"===e||null===e}var merge=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function resolveYamlBinary(e){if(null===e)return!1;for(var t,n=0,r=e.length,o=BASE64_MAP,i=0;i<r;i++)if(!(64<(t=o.indexOf(e.charAt(i))))){if(t<0)return!1;n+=6}return n%8==0}function constructYamlBinary(e){for(var t=e.replace(/[\r\n=]/g,""),n=t.length,r=BASE64_MAP,o=0,i=[],a=0;a<n;a++)a%4==0&&a&&(i.push(o>>16&255),i.push(o>>8&255),i.push(255&o)),o=o<<6|r.indexOf(t.charAt(a));return 0==(e=n%4*6)?(i.push(o>>16&255),i.push(o>>8&255),i.push(255&o)):18==e?(i.push(o>>10&255),i.push(o>>2&255)):12==e&&i.push(o>>4&255),new Uint8Array(i)}function representYamlBinary(e){for(var t,n="",r=0,o=e.length,i=BASE64_MAP,a=0;a<o;a++)a%3==0&&a&&(n=(n=(n=(n+=i[r>>18&63])+i[r>>12&63])+i[r>>6&63])+i[63&r]),r=(r<<8)+e[a];return 0==(t=o%3)?n=(n=(n=(n+=i[r>>18&63])+i[r>>12&63])+i[r>>6&63])+i[63&r]:2==t?n=(n=(n=(n+=i[r>>10&63])+i[r>>4&63])+i[r<<2&63])+i[64]:1==t&&(n=(n=(n=(n+=i[r>>2&63])+i[r<<4&63])+i[64])+i[64]),n}function isBinary(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(e){if(null===e)return!0;for(var t,n,r,o=[],i=e,a=0,l=i.length;a<l;a+=1){if(t=i[a],r=!1,"[object Object]"!==_toString$2.call(t))return!1;for(n in t)if(_hasOwnProperty$3.call(t,n)){if(r)return!1;r=!0}if(!r)return!1;if(-1!==o.indexOf(n))return!1;o.push(n)}return!0}function constructYamlOmap(e){return null!==e?e:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(e){if(null===e)return!0;for(var t,n,r=e,o=new Array(r.length),i=0,a=r.length;i<a;i+=1){if(t=r[i],"[object Object]"!==_toString$1.call(t))return!1;if(1!==(n=Object.keys(t)).length)return!1;o[i]=[n[0],t[n[0]]]}return!0}function constructYamlPairs(e){if(null===e)return[];for(var t,n,r=e,o=new Array(r.length),i=0,a=r.length;i<a;i+=1)t=r[i],n=Object.keys(t),o[i]=[n[0],t[n[0]]];return o}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(e){if(null===e)return!0;var t,n=e;for(t in n)if(_hasOwnProperty$2.call(n,t)&&null!==n[t])return!1;return!0}function constructYamlSet(e){return null!==e?e:{}}var set=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(e){return Object.prototype.toString.call(e)}function is_EOL(e){return 10===e||13===e}function is_WHITE_SPACE(e){return 9===e||32===e}function is_WS_OR_EOL(e){return 9===e||32===e||10===e||13===e}function is_FLOW_INDICATOR(e){return 44===e||91===e||93===e||123===e||125===e}function fromHexCode(e){return 48<=e&&e<=57?e-48:97<=(e=32|e)&&e<=102?e-97+10:-1}function escapedHexLen(e){return 120===e?2:117===e?4:85===e?8:0}function fromDecimalCode(e){return 48<=e&&e<=57?e-48:-1}function simpleEscapeSequence(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function charFromCodepoint(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256),i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||_default,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(e,t){e={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return e.snippet=snippet(e),new exception(t,e)}function throwError(e,t){throw generateError(e,t)}function throwWarning(e,t){e.onWarning&&e.onWarning.call(null,generateError(e,t))}var directiveHandlers={YAML:function(e,t,n){var r,o;null!==e.version&&throwError(e,"duplication of %YAML directive"),1!==n.length&&throwError(e,"YAML directive accepts exactly one argument"),null===(o=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&throwError(e,"ill-formed argument of the YAML directive"),r=parseInt(o[1],10),o=parseInt(o[2],10),1!==r&&throwError(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&throwWarning(e,"unsupported YAML version of the document")},TAG:function(t,e,n){var r;2!==n.length&&throwError(t,"TAG directive accepts exactly two arguments"),r=n[0],n=n[1],PATTERN_TAG_HANDLE.test(r)||throwError(t,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(t.tagMap,r)&&throwError(t,'there is a previously declared suffix for "'+r+'" tag handle'),PATTERN_TAG_URI.test(n)||throwError(t,"ill-formed tag prefix (second argument) of the TAG directive");try{n=decodeURIComponent(n)}catch(e){throwError(t,"tag prefix is malformed: "+n)}t.tagMap[r]=n}};function captureSegment(e,t,n,r){var o,i,a,l;if(t<n){if(l=e.input.slice(t,n),r)for(o=0,i=l.length;o<i;o+=1)9===(a=l.charCodeAt(o))||32<=a&&a<=1114111||throwError(e,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(l)&&throwError(e,"the stream contains non-printable characters");e.result+=l}}function mergeMappings(e,t,n,r){var o,i,a,l;for(common.isObject(n)||throwError(e,"cannot merge mappings; the provided source object is unacceptable"),a=0,l=(o=Object.keys(n)).length;a<l;a+=1)i=o[a],_hasOwnProperty$1.call(t,i)||(t[i]=n[i],r[i]=!0)}function storeMappingPair(e,t,n,r,o,i,a,l,s){var c,u;if(Array.isArray(o))for(c=0,u=(o=Array.prototype.slice.call(o)).length;c<u;c+=1)Array.isArray(o[c])&&throwError(e,"nested arrays are not supported inside keys"),"object"==typeof o&&"[object Object]"===_class(o[c])&&(o[c]="[object Object]");if("object"==typeof o&&"[object Object]"===_class(o)&&(o="[object Object]"),o=String(o),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(i))for(c=0,u=i.length;c<u;c+=1)mergeMappings(e,t,i[c],n);else mergeMappings(e,t,i,n);else e.json||_hasOwnProperty$1.call(n,o)||!_hasOwnProperty$1.call(t,o)||(e.line=a||e.line,e.lineStart=l||e.lineStart,e.position=s||e.position,throwError(e,"duplicated mapping key")),"__proto__"===o?Object.defineProperty(t,o,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[o]=i,delete n[o];return t}function readLineBreak(e){var t=e.input.charCodeAt(e.position);10===t?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):throwError(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function skipSeparationSpace(e,t,n){for(var r=0,o=e.input.charCodeAt(e.position);0!==o;){for(;is_WHITE_SPACE(o);)9===o&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),o=e.input.charCodeAt(++e.position);if(t&&35===o)for(;10!==(o=e.input.charCodeAt(++e.position))&&13!==o&&0!==o;);if(!is_EOL(o))break;for(readLineBreak(e),o=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===o;)e.lineIndent++,o=e.input.charCodeAt(++e.position)}return-1!==n&&0!==r&&e.lineIndent<n&&throwWarning(e,"deficient indentation"),r}function testDocumentSeparator(e){var t=e.position,n=e.input.charCodeAt(t);return!(45!==n&&46!==n||n!==e.input.charCodeAt(t+1)||n!==e.input.charCodeAt(t+2)||0!==(n=e.input.charCodeAt(t+=3))&&!is_WS_OR_EOL(n))}function writeFoldedLines(e,t){1===t?e.result+=" ":1<t&&(e.result+=common.repeat("\n",t-1))}function readPlainScalar(e,t,n){var r,o,i,a,l,s,c,u=e.kind,p=e.result,f=e.input.charCodeAt(e.position);if(is_WS_OR_EOL(f)||is_FLOW_INDICATOR(f)||35===f||38===f||42===f||33===f||124===f||62===f||39===f||34===f||37===f||64===f||96===f)return!1;if((63===f||45===f)&&(is_WS_OR_EOL(r=e.input.charCodeAt(e.position+1))||n&&is_FLOW_INDICATOR(r)))return!1;for(e.kind="scalar",e.result="",o=i=e.position,a=!1;0!==f;){if(58===f){if(is_WS_OR_EOL(r=e.input.charCodeAt(e.position+1))||n&&is_FLOW_INDICATOR(r))break}else if(35===f){if(is_WS_OR_EOL(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&testDocumentSeparator(e)||n&&is_FLOW_INDICATOR(f))break;if(is_EOL(f)){if(l=e.line,s=e.lineStart,c=e.lineIndent,skipSeparationSpace(e,!1,-1),e.lineIndent>=t){a=!0,f=e.input.charCodeAt(e.position);continue}e.position=i,e.line=l,e.lineStart=s,e.lineIndent=c;break}}a&&(captureSegment(e,o,i,!1),writeFoldedLines(e,e.line-l),o=i=e.position,a=!1),is_WHITE_SPACE(f)||(i=e.position+1),f=e.input.charCodeAt(++e.position)}return captureSegment(e,o,i,!1),!!e.result||(e.kind=u,e.result=p,!1)}function readSingleQuotedScalar(e,t){var n,r,o=e.input.charCodeAt(e.position);if(39!==o)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(o=e.input.charCodeAt(e.position));)if(39===o){if(captureSegment(e,n,e.position,!0),39!==(o=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,r=e.position}else is_EOL(o)?(captureSegment(e,n,r,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,t)),n=r=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);throwError(e,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(e,t){var n,r,o,i,a,l=e.input.charCodeAt(e.position);if(34!==l)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(l=e.input.charCodeAt(e.position));){if(34===l)return captureSegment(e,n,e.position,!0),e.position++,!0;if(92===l){if(captureSegment(e,n,e.position,!0),is_EOL(l=e.input.charCodeAt(++e.position)))skipSeparationSpace(e,!1,t);else if(l<256&&simpleEscapeCheck[l])e.result+=simpleEscapeMap[l],e.position++;else if(0<(a=escapedHexLen(l))){for(o=a,i=0;0<o;o--)0<=(a=fromHexCode(l=e.input.charCodeAt(++e.position)))?i=(i<<4)+a:throwError(e,"expected hexadecimal character");e.result+=charFromCodepoint(i),e.position++}else throwError(e,"unknown escape sequence");n=r=e.position}else is_EOL(l)?(captureSegment(e,n,r,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,t)),n=r=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}throwError(e,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(e,t){var n,r,o,i,a,l,s,c,u,p,f,d=!0,h=e.tag,g=e.anchor,m=Object.create(null),_=e.input.charCodeAt(e.position);if(91===_)c=!(a=93),i=[];else{if(123!==_)return!1;a=125,c=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),_=e.input.charCodeAt(++e.position);0!==_;){if(skipSeparationSpace(e,!0,t),(_=e.input.charCodeAt(e.position))===a)return e.position++,e.tag=h,e.anchor=g,e.kind=c?"mapping":"sequence",e.result=i,!0;d?44===_&&throwError(e,"expected the node content, but found ','"):throwError(e,"missed comma between flow collection entries"),f=null,l=s=!1,63===_&&is_WS_OR_EOL(e.input.charCodeAt(e.position+1))&&(l=s=!0,e.position++,skipSeparationSpace(e,!0,t)),n=e.line,r=e.lineStart,o=e.position,composeNode(e,t,CONTEXT_FLOW_IN,!1,!0),p=e.tag,u=e.result,skipSeparationSpace(e,!0,t),_=e.input.charCodeAt(e.position),!s&&e.line!==n||58!==_||(l=!0,_=e.input.charCodeAt(++e.position),skipSeparationSpace(e,!0,t),composeNode(e,t,CONTEXT_FLOW_IN,!1,!0),f=e.result),c?storeMappingPair(e,i,m,p,u,f,n,r,o):l?i.push(storeMappingPair(e,null,m,p,u,f,n,r,o)):i.push(u),skipSeparationSpace(e,!0,t),44===(_=e.input.charCodeAt(e.position))?(d=!0,_=e.input.charCodeAt(++e.position)):d=!1}throwError(e,"unexpected end of the stream within a flow collection")}function readBlockScalar(e,t){var n,r,o,i=CHOMPING_CLIP,a=!1,l=!1,s=t,c=0,u=!1,p=e.input.charCodeAt(e.position);if(124===p)r=!1;else{if(62!==p)return!1;r=!0}for(e.kind="scalar",e.result="";0!==p;)if(43===(p=e.input.charCodeAt(++e.position))||45===p)CHOMPING_CLIP===i?i=43===p?CHOMPING_KEEP:CHOMPING_STRIP:throwError(e,"repeat of a chomping mode identifier");else{if(!(0<=(o=fromDecimalCode(p))))break;0===o?throwError(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?throwError(e,"repeat of an indentation width identifier"):(s=t+o-1,l=!0)}if(is_WHITE_SPACE(p)){for(;is_WHITE_SPACE(p=e.input.charCodeAt(++e.position)););if(35===p)for(;!is_EOL(p=e.input.charCodeAt(++e.position))&&0!==p;);}for(;0!==p;){for(readLineBreak(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!l||e.lineIndent<s)&&32===p;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>s&&(s=e.lineIndent),is_EOL(p))c++;else{if(e.lineIndent<s){i===CHOMPING_KEEP?e.result+=common.repeat("\n",a?1+c:c):i===CHOMPING_CLIP&&a&&(e.result+="\n");break}for(r?is_WHITE_SPACE(p)?(u=!0,e.result+=common.repeat("\n",a?1+c:c)):u?(u=!1,e.result+=common.repeat("\n",c+1)):0===c?a&&(e.result+=" "):e.result+=common.repeat("\n",c):e.result+=common.repeat("\n",a?1+c:c),l=a=!0,c=0,n=e.position;!is_EOL(p)&&0!==p;)p=e.input.charCodeAt(++e.position);captureSegment(e,n,e.position,!1)}}return!0}function readBlockSequence(e,t){var n,r,o=e.tag,i=e.anchor,a=[],l=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),r=e.input.charCodeAt(e.position);0!==r&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,throwError(e,"tab characters must not be used in indentation")),45===r)&&is_WS_OR_EOL(e.input.charCodeAt(e.position+1));)if(l=!0,e.position++,skipSeparationSpace(e,!0,-1)&&e.lineIndent<=t)a.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,composeNode(e,t,CONTEXT_BLOCK_IN,!1,!0),a.push(e.result),skipSeparationSpace(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)throwError(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!l&&(e.tag=o,e.anchor=i,e.kind="sequence",e.result=a,!0)}function readBlockMapping(e,t,n){var r,o,i,a,l,s,c,u=e.tag,p=e.anchor,f={},d=Object.create(null),h=null,g=null,m=null,_=!1,y=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=f),c=e.input.charCodeAt(e.position);0!==c;){if(_||-1===e.firstTabInLine||(e.position=e.firstTabInLine,throwError(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),i=e.line,63!==c&&58!==c||!is_WS_OR_EOL(r)){if(a=e.line,l=e.lineStart,s=e.position,!composeNode(e,n,CONTEXT_FLOW_OUT,!1,!0))break;if(e.line===i){for(c=e.input.charCodeAt(e.position);is_WHITE_SPACE(c);)c=e.input.charCodeAt(++e.position);if(58===c)is_WS_OR_EOL(c=e.input.charCodeAt(++e.position))||throwError(e,"a whitespace character is expected after the key-value separator within a block mapping"),_&&(storeMappingPair(e,f,d,h,g,null,a,l,s),h=g=m=null),o=_=!(y=!0),h=e.tag,g=e.result;else{if(!y)return e.tag=u,e.anchor=p,!0;throwError(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return e.tag=u,e.anchor=p,!0;throwError(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(_&&(storeMappingPair(e,f,d,h,g,null,a,l,s),h=g=m=null),o=_=y=!0):_?o=!(_=!1):throwError(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,c=r;if((e.line===i||e.lineIndent>t)&&(_&&(a=e.line,l=e.lineStart,s=e.position),composeNode(e,t,CONTEXT_BLOCK_OUT,!0,o)&&(_?g=e.result:m=e.result),_||(storeMappingPair(e,f,d,h,g,m,a,l,s),h=g=m=null),skipSeparationSpace(e,!0,-1),c=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&0!==c)throwError(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return _&&storeMappingPair(e,f,d,h,g,null,a,l,s),y&&(e.tag=u,e.anchor=p,e.kind="mapping",e.result=f),y}function readTagProperty(t){var e,n,r,o=!1,i=!1,a=t.input.charCodeAt(t.position);if(33!==a)return!1;if(null!==t.tag&&throwError(t,"duplication of a tag property"),60===(a=t.input.charCodeAt(++t.position))?(o=!0,a=t.input.charCodeAt(++t.position)):33===a?(i=!0,n="!!",a=t.input.charCodeAt(++t.position)):n="!",e=t.position,o){for(;0!==(a=t.input.charCodeAt(++t.position))&&62!==a;);t.position<t.length?(r=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):throwError(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==a&&!is_WS_OR_EOL(a);)33===a&&(i?throwError(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),PATTERN_TAG_HANDLE.test(n)||throwError(t,"named tag handle cannot contain such characters"),i=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);r=t.input.slice(e,t.position),PATTERN_FLOW_INDICATORS.test(r)&&throwError(t,"tag suffix cannot contain flow indicator characters")}r&&!PATTERN_TAG_URI.test(r)&&throwError(t,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(e){throwError(t,"tag name is malformed: "+r)}return o?t.tag=r:_hasOwnProperty$1.call(t.tagMap,n)?t.tag=t.tagMap[n]+r:"!"===n?t.tag="!"+r:"!!"===n?t.tag="tag:yaml.org,2002:"+r:throwError(t,'undeclared tag handle "'+n+'"'),!0}function readAnchorProperty(e){var t,n=e.input.charCodeAt(e.position);if(38!==n)return!1;for(null!==e.anchor&&throwError(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!is_WS_OR_EOL(n)&&!is_FLOW_INDICATOR(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&throwError(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function readAlias(e){var t,n=e.input.charCodeAt(e.position);if(42!==n)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!is_WS_OR_EOL(n)&&!is_FLOW_INDICATOR(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&throwError(e,"name of an alias node must contain at least one character"),t=e.input.slice(t,e.position),_hasOwnProperty$1.call(e.anchorMap,t)||throwError(e,'unidentified alias "'+t+'"'),e.result=e.anchorMap[t],skipSeparationSpace(e,!0,-1),!0}function composeNode(e,t,n,r,o){var i,a,l,s,c,u,p,f=1,d=!1,h=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,i=a=l=CONTEXT_BLOCK_OUT===n||CONTEXT_BLOCK_IN===n,r&&skipSeparationSpace(e,!0,-1)&&(d=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),1===f)for(;readTagProperty(e)||readAnchorProperty(e);)skipSeparationSpace(e,!0,-1)?(d=!0,l=i,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):l=!1;if(l=l&&(d||o),1!==f&&CONTEXT_BLOCK_OUT!==n||(r=CONTEXT_FLOW_IN===n||CONTEXT_FLOW_OUT===n?t:t+1,o=e.position-e.lineStart,1===f?l&&(readBlockSequence(e,o)||readBlockMapping(e,o,r))||readFlowCollection(e,r)?h=!0:(a&&readBlockScalar(e,r)||readSingleQuotedScalar(e,r)||readDoubleQuotedScalar(e,r)?h=!0:readAlias(e)?(h=!0,null===e.tag&&null===e.anchor||throwError(e,"alias node should not have any properties")):readPlainScalar(e,r,CONTEXT_FLOW_IN===n)&&(h=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===f&&(h=l&&readBlockSequence(e,o))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&throwError(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),s=0,c=e.implicitTypes.length;s<c;s+=1)if((p=e.implicitTypes[s]).resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(_hasOwnProperty$1.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(p=null,s=0,c=(u=e.typeMap.multi[e.kind||"fallback"]).length;s<c;s+=1)if(e.tag.slice(0,u[s].tag.length)===u[s].tag){p=u[s];break}p||throwError(e,"unknown tag !<"+e.tag+">"),null!==e.result&&p.kind!==e.kind&&throwError(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):throwError(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||h}function readDocument(e){var t,n,r,o,i=e.position,a=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(o=e.input.charCodeAt(e.position))&&(skipSeparationSpace(e,!0,-1),o=e.input.charCodeAt(e.position),!(0<e.lineIndent||37!==o));){for(a=!0,o=e.input.charCodeAt(++e.position),t=e.position;0!==o&&!is_WS_OR_EOL(o);)o=e.input.charCodeAt(++e.position);for(r=[],(n=e.input.slice(t,e.position)).length<1&&throwError(e,"directive name must not be less than one character in length");0!==o;){for(;is_WHITE_SPACE(o);)o=e.input.charCodeAt(++e.position);if(35===o){for(;0!==(o=e.input.charCodeAt(++e.position))&&!is_EOL(o););break}if(is_EOL(o))break;for(t=e.position;0!==o&&!is_WS_OR_EOL(o);)o=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==o&&readLineBreak(e),_hasOwnProperty$1.call(directiveHandlers,n)?directiveHandlers[n](e,n,r):throwWarning(e,'unknown document directive "'+n+'"')}skipSeparationSpace(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,skipSeparationSpace(e,!0,-1)):a&&throwError(e,"directives end mark is expected"),composeNode(e,e.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(e,!0,-1),e.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(e.input.slice(i,e.position))&&throwWarning(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&testDocumentSeparator(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,skipSeparationSpace(e,!0,-1)):e.position<e.length-1&&throwError(e,"end of the stream or a document separator is expected")}function loadDocuments(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new State$1(e,t),t=e.indexOf("\0");for(-1!==t&&(n.position=t,throwError(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)readDocument(n);return n.documents}function loadAll$1(e,t,n){null!==t&&"object"==typeof t&&void 0===n&&(n=t,t=null);var r=loadDocuments(e,n);if("function"!=typeof t)return r;for(var o=0,i=r.length;o<i;o+=1)t(r[o])}function load$1(e,t){e=loadDocuments(e,t);if(0!==e.length){if(1===e.length)return e[0];throw new exception("expected a single document in the stream, but found more")}}var loadAll_1=loadAll$1,load_1=load$1,loader={loadAll:loadAll$1,load:load$1},_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_BOM=65279,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(e,t){var n,r,o,i,a,l,s;if(null===t)return{};for(n={},o=0,i=(r=Object.keys(t)).length;o<i;o+=1)a=r[o],l=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(s=e.compiledTypeMap.fallback[a])&&_hasOwnProperty.call(s.styleAliases,l)&&(l=s.styleAliases[l]),n[a]=l;return n}function encodeHex(e){var t,n,r=e.toString(16).toUpperCase();if(e<=255)t="x",n=2;else if(e<=65535)t="u",n=4;else{if(!(e<=4294967295))throw new exception("code point within a string may not be greater than 0xFFFFFFFF");t="U",n=8}return"\\"+t+common.repeat("0",n-r.length)+r}var QUOTING_TYPE_SINGLE=1,QUOTING_TYPE_DOUBLE=2;function State(e){this.schema=e.schema||_default,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=common.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=compileStyleMap(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?QUOTING_TYPE_DOUBLE:QUOTING_TYPE_SINGLE,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(e,t){for(var n,r,o=common.repeat(" ",t),i=0,a="",l=e.length;i<l;)i=-1===(n=e.indexOf("\n",i))?(r=e.slice(i),l):(r=e.slice(i,n+1),n+1),r.length&&"\n"!==r&&(a+=o),a+=r;return a}function generateNextLine(e,t){return"\n"+common.repeat(" ",e.indent*t)}function testImplicitResolving(e,t){for(var n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}function isWhitespace(e){return e===CHAR_SPACE||e===CHAR_TAB}function isPrintable(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==CHAR_BOM||65536<=e&&e<=1114111}function isNsCharOrWhitespace(e){return isPrintable(e)&&e!==CHAR_BOM&&e!==CHAR_CARRIAGE_RETURN&&e!==CHAR_LINE_FEED}function isPlainSafe(e,t,n){var r=isNsCharOrWhitespace(e),o=r&&!isWhitespace(e);return(n?r:r&&e!==CHAR_COMMA&&e!==CHAR_LEFT_SQUARE_BRACKET&&e!==CHAR_RIGHT_SQUARE_BRACKET&&e!==CHAR_LEFT_CURLY_BRACKET&&e!==CHAR_RIGHT_CURLY_BRACKET)&&e!==CHAR_SHARP&&!(t===CHAR_COLON&&!o)||isNsCharOrWhitespace(t)&&!isWhitespace(t)&&e===CHAR_SHARP||t===CHAR_COLON&&o}function isPlainSafeFirst(e){return isPrintable(e)&&e!==CHAR_BOM&&!isWhitespace(e)&&e!==CHAR_MINUS&&e!==CHAR_QUESTION&&e!==CHAR_COLON&&e!==CHAR_COMMA&&e!==CHAR_LEFT_SQUARE_BRACKET&&e!==CHAR_RIGHT_SQUARE_BRACKET&&e!==CHAR_LEFT_CURLY_BRACKET&&e!==CHAR_RIGHT_CURLY_BRACKET&&e!==CHAR_SHARP&&e!==CHAR_AMPERSAND&&e!==CHAR_ASTERISK&&e!==CHAR_EXCLAMATION&&e!==CHAR_VERTICAL_LINE&&e!==CHAR_EQUALS&&e!==CHAR_GREATER_THAN&&e!==CHAR_SINGLE_QUOTE&&e!==CHAR_DOUBLE_QUOTE&&e!==CHAR_PERCENT&&e!==CHAR_COMMERCIAL_AT&&e!==CHAR_GRAVE_ACCENT}function isPlainSafeLast(e){return!isWhitespace(e)&&e!==CHAR_COLON}function codePointAt(e,t){var n=e.charCodeAt(t);return 55296<=n&&n<=56319&&t+1<e.length&&56320<=(e=e.charCodeAt(t+1))&&e<=57343?1024*(n-55296)+e-56320+65536:n}function needIndentIndicator(e){return/^\n* /.test(e)}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(e,t,n,r,o,i,a,l){var s,c=0,u=null,p=!1,f=!1,d=-1!==r,h=-1,g=isPlainSafeFirst(codePointAt(e,0))&&isPlainSafeLast(codePointAt(e,e.length-1));if(t||a)for(s=0;s<e.length;65536<=c?s+=2:s++){if(!isPrintable(c=codePointAt(e,s)))return STYLE_DOUBLE;g=g&&isPlainSafe(c,u,l),u=c}else{for(s=0;s<e.length;65536<=c?s+=2:s++){if((c=codePointAt(e,s))===CHAR_LINE_FEED)p=!0,d&&(f=f||r<s-h-1&&" "!==e[h+1],h=s);else if(!isPrintable(c))return STYLE_DOUBLE;g=g&&isPlainSafe(c,u,l),u=c}f=f||d&&r<s-h-1&&" "!==e[h+1]}return p||f?9<n&&needIndentIndicator(e)?STYLE_DOUBLE:a?i===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:f?STYLE_FOLDED:STYLE_LITERAL:!g||a||o(e)?i===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:STYLE_PLAIN}function writeScalar(r,o,i,a,l){r.dump=function(){if(0===o.length)return r.quotingType===QUOTING_TYPE_DOUBLE?'""':"''";if(!r.noCompatMode&&(-1!==DEPRECATED_BOOLEANS_SYNTAX.indexOf(o)||DEPRECATED_BASE60_SYNTAX.test(o)))return r.quotingType===QUOTING_TYPE_DOUBLE?'"'+o+'"':"'"+o+"'";var e=r.indent*Math.max(1,i),t=-1===r.lineWidth?-1:Math.max(Math.min(r.lineWidth,40),r.lineWidth-e),n=a||-1<r.flowLevel&&i>=r.flowLevel;switch(chooseScalarStyle(o,n,r.indent,t,function(e){return testImplicitResolving(r,e)},r.quotingType,r.forceQuotes&&!a,l)){case STYLE_PLAIN:return o;case STYLE_SINGLE:return"'"+o.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(o,r.indent)+dropEndingNewline(indentString(o,e));case STYLE_FOLDED:return">"+blockHeader(o,r.indent)+dropEndingNewline(indentString(foldString(o,t),e));case STYLE_DOUBLE:return'"'+escapeString(o)+'"';default:throw new exception("impossible error: invalid scalar style")}}()}function blockHeader(e,t){var t=needIndentIndicator(e)?String(t):"",n="\n"===e[e.length-1];return t+(n&&("\n"===e[e.length-2]||"\n"===e)?"+":n?"":"-")+"\n"}function dropEndingNewline(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function foldString(e,t){for(var n,r=/(\n+)([^\n]*)/g,o=(n=-1!==(n=e.indexOf("\n"))?n:e.length,r.lastIndex=n,foldLine(e.slice(0,n),t)),i="\n"===e[0]||" "===e[0];l=r.exec(e);){var a=l[1],l=l[2],s=" "===l[0];o+=a+(i||s||""===l?"":"\n")+foldLine(l,t),i=s}return o}function foldLine(e,t){if(""===e||" "===e[0])return e;for(var n,r,o=/ [^ ]/g,i=0,a=0,l="";r=o.exec(e);)t<(r=r.index)-i&&(l+="\n"+e.slice(i,n=i<a?a:r),i=n+1),a=r;return l+="\n",e.length-i>t&&i<a?l+=e.slice(i,a)+"\n"+e.slice(a+1):l+=e.slice(i),l.slice(1)}function escapeString(e){for(var t,n,r="",o=0;o<e.length;65536<=t?o+=2:o++)t=codePointAt(e,o),!(n=ESCAPE_SEQUENCES[t])&&isPrintable(t)?(r+=e[o],65536<=t&&(r+=e[o+1])):r+=n||encodeHex(t);return r}function writeFlowSequence(e,t,n){for(var r,o="",i=e.tag,a=0,l=n.length;a<l;a+=1)r=n[a],e.replacer&&(r=e.replacer.call(n,String(a),r)),(writeNode(e,t,r,!1,!1)||void 0===r&&writeNode(e,t,null,!1,!1))&&(""!==o&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=i,e.dump="["+o+"]"}function writeBlockSequence(e,t,n,r){for(var o,i="",a=e.tag,l=0,s=n.length;l<s;l+=1)o=n[l],e.replacer&&(o=e.replacer.call(n,String(l),o)),(writeNode(e,t+1,o,!0,!0,!1,!0)||void 0===o&&writeNode(e,t+1,null,!0,!0,!1,!0))&&(r&&""===i||(i+=generateNextLine(e,t)),e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=a,e.dump=i||"[]"}function writeFlowMapping(e,t,n){for(var r,o,i,a="",l=e.tag,s=Object.keys(n),c=0,u=s.length;c<u;c+=1)(i="")!==a&&(i+=", "),e.condenseFlow&&(i+='"'),o=n[r=s[c]],e.replacer&&(o=e.replacer.call(n,r,o)),writeNode(e,t,r,!1,!1)&&(1024<e.dump.length&&(i+="? "),i+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),writeNode(e,t,o,!1,!1)&&(a+=i+=e.dump));e.tag=l,e.dump="{"+a+"}"}function writeBlockMapping(e,t,n,r){var o,i,a,l,s,c="",u=e.tag,p=Object.keys(n);if(!0===e.sortKeys)p.sort();else if("function"==typeof e.sortKeys)p.sort(e.sortKeys);else if(e.sortKeys)throw new exception("sortKeys must be a boolean or a function");for(o=0,i=p.length;o<i;o+=1)s="",r&&""===c||(s+=generateNextLine(e,t)),a=n[l=p[o]],e.replacer&&(a=e.replacer.call(n,l,a)),writeNode(e,t+1,l,!0,!0,!0)&&((l=null!==e.tag&&"?"!==e.tag||e.dump&&1024<e.dump.length)&&(e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?s+="?":s+="? "),s+=e.dump,l&&(s+=generateNextLine(e,t)),writeNode(e,t+1,a,!0,l)&&(e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?s+=":":s+=": ",c+=s+=e.dump));e.tag=u,e.dump=c||"{}"}function detectType(e,t,n){for(var r,o,i,a=n?e.explicitTypes:e.implicitTypes,l=0,s=a.length;l<s;l+=1)if(((o=a[l]).instanceOf||o.predicate)&&(!o.instanceOf||"object"==typeof t&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(n?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(i=e.styleMap[o.tag]||o.defaultStyle,"[object Function]"===_toString.call(o.represent))r=o.represent(t,i);else{if(!_hasOwnProperty.call(o.represent,i))throw new exception("!<"+o.tag+'> tag resolver accepts not "'+i+'" style');r=o.represent[i](t,i)}e.dump=r}return!0}return!1}function writeNode(e,t,n,r,o,i,a){e.tag=null,e.dump=n,detectType(e,n,!1)||detectType(e,n,!0);var l,s,c=_toString.call(e.dump),u=r,p=(r=r&&(e.flowLevel<0||e.flowLevel>t),"[object Object]"===c||"[object Array]"===c);if(p&&(s=-1!==(l=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||s||2!==e.indent&&0<t)&&(o=!1),s&&e.usedDuplicates[l])e.dump="*ref_"+l;else{if(p&&s&&!e.usedDuplicates[l]&&(e.usedDuplicates[l]=!0),"[object Object]"===c)r&&0!==Object.keys(e.dump).length?(writeBlockMapping(e,t,e.dump,o),s&&(e.dump="&ref_"+l+e.dump)):(writeFlowMapping(e,t,e.dump),s&&(e.dump="&ref_"+l+" "+e.dump));else if("[object Array]"===c)r&&0!==e.dump.length?(e.noArrayIndent&&!a&&0<t?writeBlockSequence(e,t-1,e.dump,o):writeBlockSequence(e,t,e.dump,o),s&&(e.dump="&ref_"+l+e.dump)):(writeFlowSequence(e,t,e.dump),s&&(e.dump="&ref_"+l+" "+e.dump));else{if("[object String]"!==c){if("[object Undefined]"===c)return!1;if(e.skipInvalid)return!1;throw new exception("unacceptable kind of an object to dump "+c)}"?"!==e.tag&&writeScalar(e,e.dump,t,i,u)}null!==e.tag&&"?"!==e.tag&&(n=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),n="!"===e.tag[0]?"!"+n:"tag:yaml.org,2002:"===n.slice(0,18)?"!!"+n.slice(18):"!<"+n+">",e.dump=n+" "+e.dump)}return!0}function getDuplicateReferences(e,t){var n,r,o=[],i=[];for(inspectNode(e,o,i),n=0,r=i.length;n<r;n+=1)t.duplicates.push(o[i[n]]);t.usedDuplicates=new Array(r)}function inspectNode(e,t,n){var r,o,i;if(null!==e&&"object"==typeof e)if(-1!==(o=t.indexOf(e)))-1===n.indexOf(o)&&n.push(o);else if(t.push(e),Array.isArray(e))for(o=0,i=e.length;o<i;o+=1)inspectNode(e[o],t,n);else for(o=0,i=(r=Object.keys(e)).length;o<i;o+=1)inspectNode(e[r[o]],t,n)}function dump$1(e,t){t=new State(t=t||{}),t.noRefs||getDuplicateReferences(e,t);return t.replacer&&(e=t.replacer.call({"":e},"",e)),writeNode(t,0,e,!0,!0)?t.dump+"\n":""}var dump_1=dump$1,dumper={dump:dump$1};function renamed(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var Type=type,Schema=schema,FAILSAFE_SCHEMA=failsafe,JSON_SCHEMA=json,CORE_SCHEMA=core,DEFAULT_SCHEMA=_default,load=loader.load,loadAll=loader.loadAll,dump=dumper.dump,YAMLException=exception,types={binary:binary,float:float,map:map,null:_null,pairs:pairs,set:set,timestamp:timestamp,bool:bool,int:int,merge:merge,omap:omap,seq:seq,str:str},safeLoad=renamed("safeLoad","load"),safeLoadAll=renamed("safeLoadAll","loadAll"),safeDump=renamed("safeDump","dump"),jsYaml={Type:Type,Schema:Schema,FAILSAFE_SCHEMA:FAILSAFE_SCHEMA,JSON_SCHEMA:JSON_SCHEMA,CORE_SCHEMA:CORE_SCHEMA,DEFAULT_SCHEMA:DEFAULT_SCHEMA,load:load,loadAll:loadAll,dump:dump,YAMLException:YAMLException,types:types,safeLoad:safeLoad,safeLoadAll:safeLoadAll,safeDump:safeDump},jsYaml$1=Object.freeze({__proto__:null,default:jsYaml,CORE_SCHEMA:CORE_SCHEMA,DEFAULT_SCHEMA:DEFAULT_SCHEMA,FAILSAFE_SCHEMA:FAILSAFE_SCHEMA,JSON_SCHEMA:JSON_SCHEMA,Schema:Schema,Type:Type,YAMLException:YAMLException,dump:dump,load:load,loadAll:loadAll,safeDump:safeDump,safeLoad:safeLoad,safeLoadAll:safeLoadAll,types:types}),commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}function getCjsExportFromNamespace(e){return e&&e.default||e}var colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const reverseKeywords={};for(const P4 of Object.keys(colorName))reverseKeywords[colorName[P4]]=P4;const convert$1={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions=convert$1;for(const Q4 of Object.keys(convert$1)){if(!("channels"in convert$1[Q4]))throw new Error("missing channels property: "+Q4);if(!("labels"in convert$1[Q4]))throw new Error("missing channel labels property: "+Q4);if(convert$1[Q4].labels.length!==convert$1[Q4].channels)throw new Error("channel and label counts mismatch: "+Q4);const{channels:R4,labels:S4}=convert$1[Q4];delete convert$1[Q4].channels,delete convert$1[Q4].labels,Object.defineProperty(convert$1[Q4],"channels",{value:R4}),Object.defineProperty(convert$1[Q4],"labels",{value:S4})}function comparativeDistance(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}function buildGraph(){const n={};var r=Object.keys(conversions);for(let e=r.length,t=0;t<e;t++)n[r[t]]={distance:-1,parent:null};return n}function deriveBFS(e){const n=buildGraph(),r=[e];for(n[e].distance=0;r.length;){var o=r.pop(),i=Object.keys(conversions[o]);for(let e=i.length,t=0;t<e;t++){var a=i[t];const l=n[a];-1===l.distance&&(l.distance=n[o].distance+1,l.parent=o,r.unshift(a))}}return n}function link(t,n){return function(e){return n(t(e))}}function wrapConversion(e,t){const n=[t[e].parent,e];let r=conversions[t[e].parent][e],o=t[e].parent;for(;t[o].parent;)n.unshift(t[o].parent),r=link(conversions[t[o].parent][o],r),o=t[o].parent;return r.conversion=n,r}convert$1.rgb.hsl=function(e){var t=e[0]/255,n=e[1]/255,e=e[2]/255,r=Math.min(t,n,e),o=Math.max(t,n,e),i=o-r;let a,l;o===r?a=0:t===o?a=(n-e)/i:n===o?a=2+(e-t)/i:e===o&&(a=4+(t-n)/i),(a=Math.min(60*a,360))<0&&(a+=360);e=(r+o)/2;return l=o===r?0:e<=.5?i/(o+r):i/(2-o-r),[a,100*l,100*e]},convert$1.rgb.hsv=function(e){var t,n,r;let o,i;var a=e[0]/255,l=e[1]/255,e=e[2]/255;const s=Math.max(a,l,e),c=s-Math.min(a,l,e);function u(e){return(s-e)/6/c+.5}return 0==c?(o=0,i=0):(i=c/s,t=u(a),n=u(l),r=u(e),a===s?o=r-n:l===s?o=1/3+t-r:e===s&&(o=2/3+n-t),o<0?o+=1:1<o&&--o),[360*o,100*i,100*s]},convert$1.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[convert$1.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(1-1/255*Math.max(t,Math.max(n,r)))]},convert$1.rgb.cmyk=function(e){var t=e[0]/255,n=e[1]/255,e=e[2]/255,r=Math.min(1-t,1-n,1-e);return[100*((1-t-r)/(1-r)||0),100*((1-n-r)/(1-r)||0),100*((1-e-r)/(1-r)||0),100*r]},convert$1.rgb.keyword=function(e){var t=reverseKeywords[e];if(t)return t;let n=1/0,r;for(const i of Object.keys(colorName)){var o=comparativeDistance(e,colorName[i]);o<n&&(n=o,r=i)}return r},convert$1.keyword.rgb=function(e){return colorName[e]},convert$1.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;return t=.04045<t?((t+.055)/1.055)**2.4:t/12.92,n=.04045<n?((n+.055)/1.055)**2.4:n/12.92,r=.04045<r?((r+.055)/1.055)**2.4:r/12.92,[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},convert$1.rgb.lab=function(e){e=convert$1.rgb.xyz(e);let t=e[0],n=e[1],r=e[2];return t/=95.047,n/=100,r/=108.883,t=.008856<t?t**(1/3):7.787*t+16/116,n=.008856<n?n**(1/3):7.787*n+16/116,r=.008856<r?r**(1/3):7.787*r+16/116,[116*n-16,500*(t-n),200*(n-r)]},convert$1.hsl.rgb=function(e){var t=e[0]/360,n=e[1]/100,e=e[2]/100;let r,o,i;if(0==n)return[i=255*e,i,i];var a=2*e-(r=e<.5?e*(1+n):e+n-e*n);const l=[0,0,0];for(let e=0;e<3;e++)(o=t+1/3*-(e-1))<0&&o++,1<o&&o--,i=6*o<1?a+6*(r-a)*o:2*o<1?r:3*o<2?a+(r-a)*(2/3-o)*6:a,l[e]=255*i;return l},convert$1.hsl.hsv=function(e){var t=e[0],n=e[1]/100,e=e[2]/100,r=n,o=Math.max(e,.01),i=(r*=o<=1?o:2-o,((e*=2)+(n*=e<=1?e:2-e))/2);return[t,100*(0==e?2*r/(o+r):2*n/(e+n)),100*i]},convert$1.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,e=Math.floor(t)%6,t=t-Math.floor(t),o=255*r*(1-n),i=255*r*(1-n*t),a=255*r*(1-n*(1-t));switch(r*=255,e){case 0:return[r,a,o];case 1:return[i,r,o];case 2:return[o,r,a];case 3:return[o,i,r];case 4:return[a,o,r];case 5:return[r,o,i]}},convert$1.hsv.hsl=function(e){var t=e[0],n=e[1]/100,e=e[2]/100,r=Math.max(e,.01),e=(2-n)*e,o=(2-n)*r,n=n*r;return[t,100*((n/=o<=1?o:2-o)||0),100*(e/=2)]},convert$1.hwb.rgb=function(e){var t=e[0]/360;let n=e[1]/100,r=e[2]/100;e=n+r;let o;1<e&&(n/=e,r/=e);var e=Math.floor(6*t),i=1-r,a=(o=6*t-e,0!=(1&e)&&(o=1-o),n+o*(i-n));let l,s,c;switch(e){default:case 6:case 0:l=i,s=a,c=n;break;case 1:l=a,s=i,c=n;break;case 2:l=n,s=i,c=a;break;case 3:l=n,s=a,c=i;break;case 4:l=a,s=n,c=i;break;case 5:l=i,s=n,c=a}return[255*l,255*s,255*c]},convert$1.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,e=e[3]/100;return[255*(1-Math.min(1,t*(1-e)+e)),255*(1-Math.min(1,n*(1-e)+e)),255*(1-Math.min(1,r*(1-e)+e))]},convert$1.xyz.rgb=function(e){var t=e[0]/100,n=e[1]/100,e=e[2]/100;let r,o,i;return r=3.2406*t+-1.5372*n+-.4986*e,o=-.9689*t+1.8758*n+.0415*e,i=.0557*t+-.204*n+1.057*e,r=.0031308<r?1.055*r**(1/2.4)-.055:12.92*r,o=.0031308<o?1.055*o**(1/2.4)-.055:12.92*o,i=.0031308<i?1.055*i**(1/2.4)-.055:12.92*i,r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),[255*r,255*o,255*i]},convert$1.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];return t/=95.047,n/=100,r/=108.883,t=.008856<t?t**(1/3):7.787*t+16/116,n=.008856<n?n**(1/3):7.787*n+16/116,r=.008856<r?r**(1/3):7.787*r+16/116,[116*n-16,500*(t-n),200*(n-r)]},convert$1.lab.xyz=function(e){var t=e[0],n=e[1],e=e[2];let r,o,i;o=(t+16)/116,r=n/500+o,i=o-e/200;t=o**3,n=r**3,e=i**3;return o=.008856<t?t:(o-16/116)/7.787,r=.008856<n?n:(r-16/116)/7.787,i=.008856<e?e:(i-16/116)/7.787,r*=95.047,o*=100,i*=108.883,[r,o,i]},convert$1.lab.lch=function(e){var t=e[0],n=e[1],e=e[2];let r;var o=Math.atan2(e,n),o=((r=360*o/2/Math.PI)<0&&(r+=360),Math.sqrt(n*n+e*e));return[t,o,r]},convert$1.lch.lab=function(e){var t=e[0],n=e[1],e=e[2]/360*2*Math.PI;return[t,n*Math.cos(e),n*Math.sin(e)]},convert$1.rgb.ansi16=function(e,t=null){var[n,r,o]=e,e=null===t?convert$1.rgb.hsv(e)[2]:t;if(0===(e=Math.round(e/50)))return 30;let i=30+(Math.round(o/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===e&&(i+=60),i},convert$1.hsv.ansi16=function(e){return convert$1.rgb.ansi16(convert$1.hsv.rgb(e),e[2])},convert$1.rgb.ansi256=function(e){var t=e[0],n=e[1],e=e[2];return t===n&&n===e?t<8?16:248<t?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(e/255*5)},convert$1.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return 50<e&&(t+=3.5),[t=t/10.5*255,t,t];e=.5*(1+~~(50<e));return[(1&t)*e*255,(t>>1&1)*e*255,(t>>2&1)*e*255]},convert$1.ansi256.rgb=function(e){var t;return 232<=e?[t=10*(e-232)+8,t,t]:(e-=16,[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255])},convert$1.rgb.hex=function(e){const t=((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]));e=t.toString(16).toUpperCase();return"000000".substring(e.length)+e},convert$1.hex.rgb=function(e){e=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let t=e[0];3===e[0].length&&(t=t.split("").map(e=>e+e).join(""));e=parseInt(t,16);return[e>>16&255,e>>8&255,255&e]},convert$1.rgb.hcg=function(e){var t=e[0]/255,n=e[1]/255,e=e[2]/255,r=Math.max(Math.max(t,n),e),o=Math.min(Math.min(t,n),e),i=r-o;let a,l;return a=i<1?o/(1-i):0,[360*(l=(l=i<=0?0:r===t?(n-e)/i%6:r===n?2+(e-t)/i:4+(t-n)/i)/6%1),100*i,100*a]},convert$1.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,t=n<.5?2*t*n:2*t*(1-n);let r=t<1?(n-.5*t)/(1-t):0;return[e[0],100*t,100*r]},convert$1.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,t=t*n;let r=t<1?(n-t)/(1-t):0;return[e[0],100*t,100*r]},convert$1.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,e=e[2]/100;if(0==n)return[255*e,255*e,255*e];const r=[0,0,0];var t=t%1*6,o=t%1,i=1-o;switch(Math.floor(t)){case 0:r[0]=1,r[1]=o,r[2]=0;break;case 1:r[0]=i,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=o;break;case 3:r[0]=0,r[1]=i,r[2]=1;break;case 4:r[0]=o,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=i}return t=(1-n)*e,[255*(n*r[0]+t),255*(n*r[1]+t),255*(n*r[2]+t)]},convert$1.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);let r=0<n?t/n:0;return[e[0],100*r,100*n]},convert$1.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return 0<n&&n<.5?r=t/(2*n):.5<=n&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},convert$1.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},convert$1.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,t=n-t;let r=t<1?(n-t)/(1-t):0;return[e[0],100*t,100*r]},convert$1.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},convert$1.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},convert$1.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},convert$1.gray.hsl=function(e){return[0,0,e[0]]},convert$1.gray.hsv=convert$1.gray.hsl,convert$1.gray.hwb=function(e){return[0,100,e[0]]},convert$1.gray.cmyk=function(e){return[0,0,0,e[0]]},convert$1.gray.lab=function(e){return[e[0],0,0]},convert$1.gray.hex=function(e){e=255&Math.round(e[0]/100*255);const t=(e<<16)+(e<<8)+e;e=t.toString(16).toUpperCase();return"000000".substring(e.length)+e},convert$1.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};var route=function(e){var n=deriveBFS(e);const r={};var o=Object.keys(n);for(let e=o.length,t=0;t<e;t++){var i=o[t];null!==n[i].parent&&(r[i]=wrapConversion(i,n))}return r};const convert={},models=Object.keys(conversions);function wrapRaw(n){function e(...e){var t=e[0];return null==t?t:(1<t.length&&(e=t),n(e))}return"conversion"in n&&(e.conversion=n.conversion),e}function wrapRounded(r){function e(...e){var t=e[0];if(null==t)return t;1<t.length&&(e=t);const n=r(e);if("object"==typeof n)for(let e=n.length,t=0;t<e;t++)n[t]=Math.round(n[t]);return n}return"conversion"in r&&(e.conversion=r.conversion),e}models.forEach(n=>{convert[n]={},Object.defineProperty(convert[n],"channels",{value:conversions[n].channels}),Object.defineProperty(convert[n],"labels",{value:conversions[n].labels});const r=route(n),e=Object.keys(r);e.forEach(e=>{var t=r[e];convert[n][e]=wrapRounded(t),convert[n][e].raw=wrapRaw(t)})});var colorConvert=convert,ansiStyles=createCommonjsModule(function(e){const a=(t,n)=>(...e)=>{return`[${t(...e)+n}m`},l=(t,n)=>(...e)=>{e=t(...e);return`[${38+n};5;${e}m`},s=(t,n)=>(...e)=>{e=t(...e);return`[${38+n};2;${e[0]};${e[1]};${e[2]}m`},c=e=>e,u=(e,t,n)=>[e,t,n],p=(t,n,r)=>{Object.defineProperty(t,n,{get:()=>{var e=r();return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0}),e},enumerable:!0,configurable:!0})};let f;const d=(e,t,n,r)=>{void 0===f&&(f=colorConvert);var o,i,a=r?10:0;const l={};for([o,i]of Object.entries(f)){var s="ansi16"===o?"ansi":o;o===t?l[s]=e(n,a):"object"==typeof i&&(l[s]=e(i[t],a))}return l};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(var[n,r]of Object.entries(t)){for(var[o,i]of Object.entries(r))t[o]={open:`[${i[0]}m`,close:`[${i[1]}m`},r[o]=t[o],e.set(i[0],i[1]);Object.defineProperty(t,n,{value:r,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",p(t.color,"ansi",()=>d(a,"ansi16",c,!1)),p(t.color,"ansi256",()=>d(l,"ansi256",c,!1)),p(t.color,"ansi16m",()=>d(s,"rgb",u,!1)),p(t.bgColor,"ansi",()=>d(a,"ansi16",c,!0)),p(t.bgColor,"ansi256",()=>d(l,"ansi256",c,!0)),p(t.bgColor,"ansi16m",()=>d(s,"rgb",u,!0)),t}})}),hasFlag=(e,t=process.argv)=>{var n=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(n+e),e=t.indexOf("--");return-1!==n&&(-1===e||n<e)};const env=process["env"];let forceColor;function translateLevel(e){return 0!==e&&{level:e,hasBasic:!0,has256:2<=e,has16m:3<=e}}function supportsColor(e,t){if(0===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(e&&!t&&void 0===forceColor)return 0;e=forceColor||0;if("dumb"===env.TERM)return e;if("win32"===process.platform)return t=os__default.default.release().split("."),10<=Number(t[0])&&10586<=Number(t[2])?14931<=Number(t[2])?3:2:1;if("CI"in env)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in env)||"codeship"===env.CI_NAME?1:e;if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0;if("truecolor"===env.COLORTERM)return 3;if("TERM_PROGRAM"in env){var n=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case"iTerm.app":return 3<=n?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)||"COLORTERM"in env?1:e}function getSupportLevel(e){return translateLevel(supportsColor(e,e&&e.isTTY))}hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")?forceColor=0:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=1),"FORCE_COLOR"in env&&(forceColor="true"===env.FORCE_COLOR?1:"false"===env.FORCE_COLOR?0:0===env.FORCE_COLOR.length?1:Math.min(parseInt(env.FORCE_COLOR,10),3));var supportsColor_1={supportsColor:getSupportLevel,stdout:translateLevel(supportsColor(!0,tty__default.default.isatty(1))),stderr:translateLevel(supportsColor(!0,tty__default.default.isatty(2)))};const stringReplaceAll$1=(e,t,n)=>{let r=e.indexOf(t);if(-1===r)return e;var o=t.length;let i=0,a="";for(;a+=e.substr(i,r-i)+t+n,i=r+o,-1!==(r=e.indexOf(t,i)););return a+=e.substr(i)},stringEncaseCRLFWithFirstIndex$1=(e,t,n,r)=>{let o=0,i="";do{var a="\r"===e[r-1];i+=e.substr(o,(a?r-1:r)-o)+t+(a?"\r\n":"\n")+n,o=r+1,r=e.indexOf("\n",o)}while(-1!==r);return i+=e.substr(o)};var util={stringReplaceAll:stringReplaceAll$1,stringEncaseCRLFWithFirstIndex:stringEncaseCRLFWithFirstIndex$1};const TEMPLATE_REGEX=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,STYLE_REGEX=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,STRING_REGEX=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ESCAPE_REGEX=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,ESCAPES=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function unescape(e){var t="u"===e[0],n="{"===e[1];return t&&!n&&5===e.length||"x"===e[0]&&3===e.length?String.fromCharCode(parseInt(e.slice(1),16)):t&&n?String.fromCodePoint(parseInt(e.slice(2,-1),16)):ESCAPES.get(e)||e}function parseArguments(e,t){const n=[];let r;for(const i of t.trim().split(/\s*,\s*/g)){var o=Number(i);if(Number.isNaN(o)){if(!(r=i.match(STRING_REGEX)))throw new Error(`Invalid Chalk template style argument: ${i} (in style '${e}')`);n.push(r[2].replace(ESCAPE_REGEX,(e,t,n)=>t?unescape(t):n))}else n.push(o)}return n}function parseStyle(e){STYLE_REGEX.lastIndex=0;const t=[];for(var n;null!==(n=STYLE_REGEX.exec(e));){const r=n[1];n[2]?(n=parseArguments(r,n[2]),t.push([r].concat(n))):t.push([r])}return t}function buildStyle(e,t){const n={};for(const o of t)for(const i of o.styles)n[i[0]]=o.inverse?null:i.slice(1);let r=e;for(const[a,t]of Object.entries(n))if(Array.isArray(t)){if(!(a in r))throw new Error("Unknown Chalk style: "+a);r=0<t.length?r[a](...t):r[a]}return r}var templates=(a,e)=>{const l=[],s=[];let c=[];if(e.replace(TEMPLATE_REGEX,(e,t,n,r,o,i)=>{if(t)c.push(unescape(t));else if(r){t=c.join("");c=[],s.push(0===l.length?t:buildStyle(a,l)(t)),l.push({inverse:n,styles:parseStyle(r)})}else if(o){if(0===l.length)throw new Error("Found extraneous } in Chalk template literal");s.push(buildStyle(a,l)(c.join(""))),c=[],l.pop()}else c.push(i)}),s.push(c.join("")),0<l.length)throw e=`Chalk template literal is missing ${l.length} closing bracket${1===l.length?"":"s"} (\`}\`)`,new Error(e);return s.join("")};const{stdout:stdoutColor,stderr:stderrColor}=supportsColor_1,{stringReplaceAll,stringEncaseCRLFWithFirstIndex}=util,isArray=Array["isArray"],levelMapping=["ansi","ansi","ansi256","ansi16m"],styles=Object.create(null),applyOptions=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&0<=t.level&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");var n=stdoutColor?stdoutColor.level:0;e.level=void 0===t.level?n:t.level};class ChalkClass{constructor(e){return chalkFactory(e)}}const chalkFactory=e=>{const t={};return applyOptions(t,e),t.template=(...e)=>chalkTag(t.template,...e),Object.setPrototypeOf(t,Chalk.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=ChalkClass,t.template};function Chalk(e){return chalkFactory(e)}for(const[E8,F8]of Object.entries(ansiStyles))styles[E8]={get(){var e=createBuilder(this,createStyler(F8.open,F8.close,this._styler),this._isEmpty);return Object.defineProperty(this,E8,{value:e}),e}};styles.visible={get(){var e=createBuilder(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};const usedModels=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const I8 of usedModels)styles[I8]={get(){const t=this["level"];return function(...e){e=createStyler(ansiStyles.color[levelMapping[t]][I8](...e),ansiStyles.color.close,this._styler);return createBuilder(this,e,this._isEmpty)}}};for(const M8 of usedModels){const N8="bg"+M8[0].toUpperCase()+M8.slice(1);styles[N8]={get(){const t=this["level"];return function(...e){e=createStyler(ansiStyles.bgColor[levelMapping[t]][M8](...e),ansiStyles.bgColor.close,this._styler);return createBuilder(this,e,this._isEmpty)}}}}const proto=Object.defineProperties(()=>{},{...styles,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),createStyler=(e,t,n)=>{let r,o;return o=void 0===n?(r=e,t):(r=n.openAll+e,t+n.closeAll),{open:e,close:t,openAll:r,closeAll:o,parent:n}},createBuilder=(e,t,n)=>{const r=(...e)=>isArray(e[0])&&isArray(e[0].raw)?applyStyle(r,chalkTag(r,...e)):applyStyle(r,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(r,proto),r._generator=e,r._styler=t,r._isEmpty=n,r},applyStyle=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let n=e._styler;if(void 0===n)return t;var{openAll:e,closeAll:r}=n;if(-1!==t.indexOf(""))for(;void 0!==n;)t=stringReplaceAll(t,n.close,n.open),n=n.parent;var o=t.indexOf("\n");return e+(t=-1!==o?stringEncaseCRLFWithFirstIndex(t,r,e,o):t)+r};let template;const chalkTag=(e,...t)=>{var[n]=t;if(!isArray(n)||!isArray(n.raw))return t.join(" ");var r=t.slice(1);const o=[n.raw[0]];for(let e=1;e<n.length;e++)o.push(String(r[e-1]).replace(/[{}\\]/g,"\\$&"),String(n.raw[e]));return(template=void 0===template?templates:template)(e,o.join(""))},chalk=(Object.defineProperties(Chalk.prototype,styles),Chalk());chalk.supportsColor=stdoutColor,chalk.stderr=Chalk({level:stderrColor?stderrColor.level:0}),chalk.stderr.supportsColor=stderrColor;var source=chalk,byeList=["have a nice day","farewell","server stopped","goodbye","see you later"],emojiList=["😄","😎","🤪","🤩","😁","🐱","🤣"];function getRandomBye(){var e=(100*Math.random()).toFixed(0)%byeList.length;return byeList[e]}function getRandomEmoji(){var e=(100*Math.random()).toFixed(0)%emojiList.length;return emojiList[e]}var log={info:function(e){console.log(source.bgGreen.bold(" INFO ")+" ✨ "+e)},warn:function(e){console.log(source.bgYellow.bold(" WARN ")+" ⚠️ "+e)},error:function(e){console.log(source.bgRed.bold(" ERR! ")+" ❌ "+e)},title:function(e){console.log(source.bgBlueBright.bold("  --- ".concat(e," ---  ")))},bye:function(){console.log(source.bgBlueBright.bold(" BYE~ ")+"  "+getRandomBye()+" "+getRandomEmoji())},dbLine:function(e,t){console.log("※ ".concat(source.cyan(e),": \n   ").concat(t))},help:function(){console.log(source.bgBlueBright.bold(" INFO ")+"  we need your help to fix this bug 😭"),console.log(source.bgBlueBright.bold(" INFO ")+"  please submit an issue at ".concat(source.underline("https://github.com/ShawnZhou2000/@vinejs/issues")))}},colorLog=log,dayjs_min=createCommonjsModule(function(e,t){var o,p,f,d,h,g,m,a,_,y,E,l,v,r,n,s,c,i,u,A,b,C,S;e.exports=(o="millisecond",p="second",f="minute",d="hour",h="day",g="week",m="month",a="quarter",_="year",y="date",E="Invalid Date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,e={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},n={s:r=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},z:function(e){var e=-e.utcOffset(),t=Math.abs(e),n=Math.floor(t/60),t=t%60;return(e<=0?"+":"-")+r(n,2,"0")+":"+r(t,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,m),i=n-o<0,t=t.clone().add(r+(i?-1:1),m);return+(-(r+(n-o)/(i?o-t:t-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:m,y:_,w:g,d:h,D:y,h:d,m:f,s:p,ms:o,Q:a}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},(c={})[s="en"]=e,i=function(e){return e instanceof C},A=function(e,t){if(i(e))return e.clone();t="object"==typeof t?t:{};return t.date=e,t.args=arguments,new C(t)},(b=n).l=u=function e(t,n,r){var o;if(!t)return s;if("string"==typeof t){var i=t.toLowerCase(),n=(c[i]&&(o=i),n&&(c[i]=n,o=i),t.split("-"));if(!o&&1<n.length)return e(n[0])}else{i=t.name;c[i]=t,o=i}return!r&&o&&(s=o),o||!r&&s},b.i=i,b.w=function(e,t){return A(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})},C=function(){function e(e){this.$L=u(e.locale,null,!0),this.parse(e)}var t=e.prototype;return t.parse=function(i){this.$d=function(){var e=i.date,t=i.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n,r,o=e.match(l);if(o)return n=o[2]-1||0,r=(o[7]||"0").substring(0,3),t?new Date(Date.UTC(o[1],n,o[3]||1,o[4]||0,o[5]||0,o[6]||0,r)):new Date(o[1],n,o[3]||1,o[4]||0,o[5]||0,o[6]||0,r)}return new Date(e)}(),this.$x=i.x||{},this.init()},t.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},t.$utils=function(){return b},t.isValid=function(){return!(this.$d.toString()===E)},t.isSame=function(e,t){e=A(e);return this.startOf(t)<=e&&e<=this.endOf(t)},t.isAfter=function(e,t){return A(e)<this.startOf(t)},t.isBefore=function(e,t){return this.endOf(t)<A(e)},t.$g=function(e,t,n){return b.u(e)?this[t]:this.set(n,e)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(e,t){function n(e,t){return t=b.w(o.$u?Date.UTC(o.$y,t,e):new Date(o.$y,t,e),o),i?t:t.endOf(h)}function r(e,t){return b.w(o.toDate()[e].apply(o.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),o)}var o=this,i=!!b.u(t)||t,t=b.p(e),a=this.$W,l=this.$M,s=this.$D,c="set"+(this.$u?"UTC":"");switch(t){case _:return i?n(1,0):n(31,11);case m:return i?n(1,l):n(0,l+1);case g:var u=this.$locale().weekStart||0,u=(a<u?a+7:a)-u;return n(i?s-u:s+(6-u),l);case h:case y:return r(c+"Hours",0);case d:return r(c+"Minutes",1);case f:return r(c+"Seconds",2);case p:return r(c+"Milliseconds",3);default:return this.clone()}},t.endOf=function(e){return this.startOf(e,!1)},t.$set=function(e,t){var e=b.p(e),n="set"+(this.$u?"UTC":""),n=((r={}).day=n+"Date",r[y]=n+"Date",r[m]=n+"Month",r[_]=n+"FullYear",r[d]=n+"Hours",r[f]=n+"Minutes",r[p]=n+"Seconds",r[o]=n+"Milliseconds",r[e]),r=e===h?this.$D+(t-this.$W):t;return e===m||e===_?((t=this.clone().set(y,1)).$d[n](r),t.init(),this.$d=t.set(y,Math.min(this.$D,t.daysInMonth())).$d):n&&this.$d[n](r),this.init(),this},t.set=function(e,t){return this.clone().$set(e,t)},t.get=function(e){return this[b.p(e)]()},t.add=function(n,e){function t(e){var t=A(r);return b.w(t.date(t.date()+Math.round(e*n)),r)}var r=this,e=(n=Number(n),b.p(e));if(e===m)return this.set(m,this.$M+n);if(e===_)return this.set(_,this.$y+n);if(e===h)return t(1);if(e===g)return t(7);(o={})[f]=6e4,o[d]=36e5,o[p]=1e3;var o=o[e]||1,e=this.$d.getTime()+n*o;return b.w(e,this)},t.subtract=function(e,t){return this.add(-1*e,t)},t.format=function(e){var o=this,t=this.$locale();if(!this.isValid())return t.invalidDate||E;function n(e,t,n,r){return e&&(e[t]||e(o,i))||n[t].slice(0,r)}function r(e){return b.s(l%12||12,e,"0")}var i=e||"YYYY-MM-DDTHH:mm:ssZ",a=b.z(this),l=this.$H,e=this.$m,s=this.$M,c=t.weekdays,u=t.months,p=t.meridiem||function(e,t,n){e=e<12?"AM":"PM";return n?e.toLowerCase():e},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:b.s(s+1,2,"0"),MMM:n(t.monthsShort,s,u,3),MMMM:n(u,s),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:n(t.weekdaysMin,this.$W,c,2),ddd:n(t.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(l),HH:b.s(l,2,"0"),h:r(1),hh:r(2),a:p(l,e,!0),A:p(l,e,!1),m:String(e),mm:b.s(e,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:a};return i.replace(v,function(e,t){return t||f[e]||a.replace(":","")})},t.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},t.diff=function(e,t,n){var t=b.p(t),e=A(e),r=6e4*(e.utcOffset()-this.utcOffset()),o=this-e,e=b.m(this,e),i={};return i[_]=e/12,i[m]=e,i[a]=e/3,i[g]=(o-r)/6048e5,i.day=(o-r)/864e5,i[d]=o/36e5,i[f]=o/6e4,i[p]=o/1e3,e=i[t]||o,n?e:b.a(e)},t.daysInMonth=function(){return this.endOf(m).$D},t.$locale=function(){return c[this.$L]},t.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),e=u(e,t,!0);return e&&(n.$L=e),n},t.clone=function(){return b.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},e}(),S=C.prototype,A.prototype=S,[["$ms",o],["$s",p],["$m",f],["$H",d],["$W",h],["$M",m],["$y",_],["$D",y]].forEach(function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),A.extend=function(e,t){return e.$i||(e(t,C,A),e.$i=!0),A},A.locale=u,A.isDayjs=i,A.unix=function(e){return A(1e3*e)},A.en=c[s],A.Ls=c,A.p={},A)}),_yaml=getCjsExportFromNamespace(jsYaml$1),exists=util__default.default.promisify(fs__default.default.exists),ymlConfig={},commonPath="dist",cmd=function(e){return new Promise(function(r,o){cmd$1.run("cd ".concat(commonPath," && ").concat(e),function(e,t,n){e?o(n):r(t)})})},getYaml=function(r){return new Promise(function(e,t){var n={};try{n=_yaml.load(fs__default.default.readFileSync(r,"utf-8"))}catch(e){t(e)}finally{e(n)}})},clearDir=function t(n){var r;fs__default.default.readdirSync(n).forEach(function(e){r="".concat(n,"/").concat(e),fs__default.default.statSync(r).isDirectory()?t(r):fs__default.default.unlinkSync(r)}),fs__default.default.rmdirSync(n)};function publish(){return getYaml(path__default.default.resolve(process.cwd(),"deployer/vine.deployer.yml")).then(function(e){return"git"!==e.type&&(colorLog.error("Deployer type invalid, please check your config."),process.exit(1)),e.repo&&e.branch&&e.auth.user_name&&e.auth.user_email||(colorLog.error("You should configure deployer settings in vine.deployer.yml first, see this example:"),console.log("        type: git\n        repo: <your git repo url>\n        branch: main\n        auth:\n          user_name: <your git user name>\n          user_email: <your git user email></your>\n        extend_dir: [extend directory]\n      "),process.exit(1)),ymlConfig=e}).catch(function(e){colorLog.error("Oops, something wrong in deployer."),colorLog.error(e),colorLog.error("vine.deployer.yml not found in deployer path, please check your config."),process.exit(1)}).then(function(){return exists(path__default.default.resolve(commonPath))}).then(function(e){return e||(colorLog.error("cannot find path 'dist', did you forget to build this project?"),colorLog.error("try run command 'vine build' first."),process.exit(1)),exists(path__default.default.resolve(commonPath,".git"))}).then(function(e){return colorLog.info("Setting up Git deployment..."),e&&(colorLog.info("Rebuilding .git directory..."),clearDir(path__default.default.resolve(commonPath,".git"))),cmd("git init")}).then(function(e){return colorLog.info(e),cmd("git config user.name ".concat(ymlConfig.auth.user_name))}).then(function(){return cmd("git config user.email ".concat(ymlConfig.auth.user_email))}).then(function(){return cmd("git add -A")}).then(function(){return cmd('git commit -m "update at '.concat(dayjs_min().format("YYYY-MM-DD HH:mm:ss"),'"'))}).then(function(){return cmd("git push -u ".concat(ymlConfig.repo," HEAD:").concat(ymlConfig.branch," --force"))}).then(function(e){return colorLog.info(e),colorLog.info("dist published successfully."),e}).catch(function(e){console.log(e),colorLog.error("Oops, something wrong in deployer."),process.exit(1)})}var vinejsGitDeployer=publish;module.exports=vinejsGitDeployer;
